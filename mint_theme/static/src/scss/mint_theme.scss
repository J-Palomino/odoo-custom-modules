/**
 * ============================================================
 * ODOO 19 CUSTOM THEME TEMPLATE
 * ============================================================
 *
 * This theme module allows you to customize Odoo's color scheme.
 * Edit the configuration variables below to change the theme.
 *
 * Module: mint_theme
 * Version: 19.0.1.0.4
 * License: LGPL-3
 */

// ============================================================
// THEME CONFIGURATION
// ============================================================
// Change these variables to customize your theme colors.
// All other styles will automatically use these values.

// Primary brand color (main accent color)
$theme-primary: #15803D;           // Dark green - change this to your brand color

// Hover state (slightly darker than primary)
$theme-primary-hover: #166534;     // Used for hover effects

// Active/pressed state (darkest shade)
$theme-primary-active: #14532D;    // Used for active/pressed states

// Accent color (for highlights and secondary elements)
$theme-accent: #22C55E;            // Light green - used for highlights

// Light background (for subtle backgrounds)
$theme-bg-light: #DCFCE7;          // Very light shade of primary

// Text color on primary background
$theme-text-on-primary: white;

// ============================================================
// COLOR PRESETS (Uncomment one to use a different theme)
// ============================================================

// --- MINT GREEN (Default) ---
// Already configured above

// --- OCEAN BLUE ---
// $theme-primary: #1D4ED8;
// $theme-primary-hover: #1E40AF;
// $theme-primary-active: #1E3A8A;
// $theme-accent: #3B82F6;
// $theme-bg-light: #DBEAFE;

// --- CORAL ORANGE ---
// $theme-primary: #EA580C;
// $theme-primary-hover: #C2410C;
// $theme-primary-active: #9A3412;
// $theme-accent: #FB923C;
// $theme-bg-light: #FFEDD5;

// --- BERRY PURPLE ---
// $theme-primary: #7C3AED;
// $theme-primary-hover: #6D28D9;
// $theme-primary-active: #5B21B6;
// $theme-accent: #A78BFA;
// $theme-bg-light: #EDE9FE;

// --- CHARCOAL (Dark Mode) ---
// $theme-primary: #374151;
// $theme-primary-hover: #1F2937;
// $theme-primary-active: #111827;
// $theme-accent: #6B7280;
// $theme-bg-light: #F3F4F6;

// ============================================================
// END CONFIGURATION - Do not edit below unless you know SCSS
// ============================================================


// ============================================================
// CSS CUSTOM PROPERTIES (CSS Variables)
// ============================================================
// These override Odoo's default purple color scheme

:root {
  // Core brand colors
  --o-brand-odoo: #{$theme-primary} !important;
  --o-brand-primary: #{$theme-primary} !important;
  --o-enterprise-color: #{$theme-primary} !important;
  --primary: #{$theme-primary} !important;
  --bs-primary: #{$theme-primary} !important;
  --bs-primary-rgb: #{red($theme-primary)}, #{green($theme-primary)}, #{blue($theme-primary)} !important;
  --o-main-color: #{$theme-primary} !important;

  // Navbar colors
  --o-navbar-bg: #{$theme-primary} !important;
  --o-navbar-color: #{$theme-text-on-primary} !important;
  --o-navbar-brand-color: #{$theme-text-on-primary} !important;
  --o-navbar-badge-bg: #{$theme-primary-hover} !important;
  --o-navbar-entry-active-bg: #{$theme-primary-active} !important;
  --o-navbar-entry-bg-hover: #{$theme-primary-active} !important;
  --o-navbar-entry-bg-active: #{$theme-primary-active} !important;

  // THE KEY NAVBAR VARIABLE - controls menu button backgrounds
  --NavBar-entry-backgroundColor: #{$theme-primary} !important;
  --NavBar-entry-backgroundColor--hover: #{$theme-primary-active} !important;
  --NavBar-entry-backgroundColor--active: #{$theme-primary-active} !important;
  --NavBar-background: #{$theme-primary} !important;
  --NavBar-entry-bg: #{$theme-primary} !important;
  --NavBar-entry-bg--hover: #{$theme-primary-active} !important;
  --NavBar-entry-bg--active: #{$theme-primary-active} !important;
  --NavBar-menuSections-bg: #{$theme-primary} !important;
  --NavBar-menuSections-entry-bg: #{$theme-primary} !important;
  --NavBar-menuSections-entry-bg--hover: #{$theme-primary-active} !important;
  --NavBar-menuSections-entry-bg--active: #{$theme-primary-active} !important;
  --o-menu-sections-link-bg-active: #{$theme-primary-active} !important;

  // App menu section colors
  --AppMenu-section-bg: #{$theme-primary} !important;
  --AppMenu-section-bg-hover: #{$theme-primary-active} !important;
  --o-webclient-color-accent: #{$theme-primary} !important;

  // Action colors
  --o-action-color: #{$theme-primary} !important;
  --o-action-color-hover: #{$theme-primary-hover} !important;

  // Form colors
  --o-form-lightsecondary: #{$theme-bg-light} !important;

  // Button colors
  --btn-primary-bg: #{$theme-primary} !important;
  --btn-primary-border-color: #{$theme-primary} !important;
  --btn-primary-hover-bg: #{$theme-primary-hover} !important;
  --btn-primary-hover-border-color: #{$theme-primary-hover} !important;
  --btn-primary-active-bg: #{$theme-primary-active} !important;
  --btn-primary-active-border-color: #{$theme-primary-active} !important;

  // Color class overrides (Odoo uses these for theming)
  --o-color-1: #{$theme-primary} !important;
  --o-color-2: #{$theme-primary-hover} !important;
  --o-color-3: #{$theme-primary-active} !important;
  --o-color-4: #{$theme-primary} !important;
  --o-color-5: #{$theme-accent} !important;

  // CC (Color Class) backgrounds
  --o-cc1-bg: #{$theme-primary} !important;
  --o-cc2-bg: #{$theme-primary} !important;
  --o-cc3-bg: #{$theme-primary} !important;
  --o-cc4-bg: #{$theme-primary} !important;
  --o-cc5-bg: #{$theme-primary} !important;

  // CC buttons
  --o-cc1-btn-primary: #{$theme-primary} !important;
  --o-cc1-btn-primary-border: #{$theme-primary} !important;
  --o-cc1-link: #{$theme-primary} !important;
  --o-cc2-btn-primary: #{$theme-primary} !important;
  --o-cc2-btn-primary-border: #{$theme-primary} !important;
  --o-cc2-link: #{$theme-primary} !important;
  --o-cc3-btn-primary: #{$theme-primary} !important;
  --o-cc3-btn-primary-border: #{$theme-primary} !important;
  --o-cc3-link: #{$theme-primary} !important;
  --o-cc4-btn-primary: #{$theme-primary} !important;
  --o-cc4-btn-primary-border: #{$theme-primary} !important;
  --o-cc4-link: #{$theme-accent} !important;
  --o-cc5-btn-primary: #{$theme-primary} !important;
  --o-cc5-btn-primary-border: #{$theme-primary} !important;
  --o-cc5-link: #{$theme-accent} !important;
}

// Ensure CSS variables are set on key elements
html, body, .o_web_client, .o_action_manager, .o_main_navbar {
  --o-brand-odoo: #{$theme-primary} !important;
  --o-brand-primary: #{$theme-primary} !important;
  --NavBar-entry-backgroundColor: #{$theme-primary} !important;
  --NavBar-entry-backgroundColor--hover: #{$theme-primary-active} !important;
  --NavBar-entry-backgroundColor--active: #{$theme-primary-active} !important;
}


// ============================================================
// NAVBAR STYLES
// ============================================================

.o_main_navbar {
  background-color: $theme-primary !important;

  // Transparent containers
  .o_menu_toggle,
  .o_menu_brand,
  .o_menu_sections,
  .o_menu_systray {
    background-color: transparent !important;
  }

  // App switcher hover
  .o_menu_toggle:hover,
  .o_menu_toggle:focus {
    background-color: $theme-primary-active !important;
  }

  // Brand hover
  .o_menu_brand:hover {
    background-color: $theme-primary-active !important;
  }
}

// Apps menu button (hamburger)
.o_navbar_apps_menu,
.o_navbar_apps_menu button,
.o_navbar_apps_menu .o-dropdown,
.o_navbar_apps_menu .dropdown-toggle {
  background: transparent !important;

  &:hover, &:focus, &.show, &[aria-expanded="true"] {
    background: $theme-primary-active !important;
  }
}


// ============================================================
// NAVBAR MENU SECTIONS (App submenu - Projects, Tasks, etc.)
// ============================================================

.o_menu_sections {
  background-color: $theme-primary !important;

  // All menu items
  > button,
  > a,
  > .dropdown,
  > .o-dropdown,
  button.o-dropdown,
  button.dropdown-toggle,
  button[data-menu-xmlid],
  button[data-hotkey],
  a.o-dropdown-item,
  a.dropdown-item,
  a.o_nav_entry,
  a[data-menu-xmlid],
  [data-menu-xmlid],
  [data-hotkey],
  [data-section] {
    background: $theme-primary !important;
    color: $theme-text-on-primary !important;

    &:hover, &:focus, &.show, &.active, &[aria-expanded="true"] {
      background: $theme-primary-active !important;
      color: $theme-text-on-primary !important;
    }

    span {
      background: transparent !important;
      color: $theme-text-on-primary !important;
    }
  }
}

// High-specificity overrides for stubborn elements
.o_main_navbar .o_menu_sections *,
.o_web_client .o_main_navbar .o_menu_sections *,
nav.o_main_navbar .o_menu_sections * {
  background: $theme-primary !important;
  color: $theme-text-on-primary !important;

  &:hover, &:focus, &.show, &.active, &[aria-expanded="true"] {
    background: $theme-primary-active !important;
  }
}

// ID-level specificity boost
html body .o_web_client .o_main_navbar .o_menu_sections button,
html body .o_web_client .o_main_navbar .o_menu_sections a {
  background: $theme-primary !important;
  color: $theme-text-on-primary !important;

  &:hover, &:focus, &.show, &[aria-expanded="true"] {
    background: $theme-primary-active !important;
  }
}


// ============================================================
// NAVBAR SYSTRAY (Right side - Messages, Activities, User)
// ============================================================

.o_main_navbar .o_menu_systray {
  .o-dropdown,
  .dropdown-toggle,
  > div {
    &:hover, &.show, &:focus {
      background-color: $theme-primary-active !important;
    }
  }

  .o_MessagingMenu,
  .o_ActivityMenu {
    &.o-dropdown.show,
    &:hover {
      background-color: $theme-primary-active !important;
    }
  }
}


// ============================================================
// DROPDOWN MENUS
// ============================================================

.o_main_navbar .dropdown-menu {
  .dropdown-item:hover,
  .dropdown-item:focus,
  .dropdown-item.active {
    background-color: $theme-primary !important;
    color: $theme-text-on-primary !important;
  }
}

.o_menu_sections .dropdown-menu {
  background-color: white !important;

  .dropdown-item {
    color: #333 !important;

    &:hover, &:focus, &.active {
      background-color: $theme-primary !important;
      color: $theme-text-on-primary !important;
    }
  }
}


// ============================================================
// BUTTONS
// ============================================================

.o_web_client {
  .btn-primary,
  .btn-primary.disabled,
  .btn-primary:disabled {
    background-color: $theme-primary !important;
    border-color: $theme-primary !important;
    color: $theme-text-on-primary !important;

    &:hover, &:focus {
      background-color: $theme-primary-hover !important;
      border-color: $theme-primary-hover !important;
    }

    &:active, &.active {
      background-color: $theme-primary-active !important;
      border-color: $theme-primary-active !important;
    }
  }

  .btn-outline-primary {
    color: $theme-primary !important;
    border-color: $theme-primary !important;

    &:hover, &:focus {
      background-color: $theme-primary !important;
      border-color: $theme-primary !important;
      color: $theme-text-on-primary !important;
    }
  }

  .btn-link {
    color: $theme-primary !important;

    &:hover {
      color: $theme-primary-hover !important;
    }
  }
}


// ============================================================
// LINKS
// ============================================================

.o_web_client a:not(.btn):not(.nav-link):not(.dropdown-item) {
  color: $theme-primary !important;

  &:hover, &:focus {
    color: $theme-primary-hover !important;
  }
}


// ============================================================
// FORM ELEMENTS
// ============================================================

.o_web_client {
  // Tabs
  .nav-tabs .nav-link.active,
  .nav-tabs .nav-link:hover {
    border-bottom-color: $theme-primary !important;
    color: $theme-primary !important;
  }

  // Checkboxes
  .form-check-input:checked,
  .o_checkbox input:checked + span {
    background-color: $theme-primary !important;
    border-color: $theme-primary !important;
  }

  // Radio buttons
  .form-check-input[type="radio"]:checked {
    border-color: $theme-primary !important;
    background-color: $theme-primary !important;
  }

  // Focus states
  .form-control:focus,
  .form-select:focus {
    border-color: $theme-primary !important;
    box-shadow: 0 0 0 0.2rem rgba($theme-primary, 0.25) !important;
  }

  // Switch toggle
  .form-switch .form-check-input:checked {
    background-color: $theme-primary !important;
    border-color: $theme-primary !important;
  }
}


// ============================================================
// LIST & KANBAN VIEWS
// ============================================================

.o_web_client {
  .o_kanban_record:hover {
    border-color: $theme-primary !important;
  }

  .o_list_view .o_data_row.o_data_row_selected,
  .o_list_view .o_data_row:focus-within {
    background-color: $theme-bg-light !important;
  }

  .o_kanban_header .o_kanban_title:hover {
    color: $theme-primary !important;
  }
}


// ============================================================
// STATUSBAR
// ============================================================

.o_web_client .o_statusbar_status {
  button.btn-primary,
  button.o_arrow_button.btn-primary {
    background-color: $theme-primary !important;
    border-color: $theme-primary !important;

    &:hover {
      background-color: $theme-primary-hover !important;
    }
  }

  .o_arrow_button.o_arrow_button_current {
    background-color: $theme-primary !important;

    &::after {
      border-left-color: $theme-primary !important;
    }
  }
}


// ============================================================
// BADGES & PROGRESS
// ============================================================

.badge-primary,
.badge.bg-primary,
.bg-primary {
  background-color: $theme-primary !important;
}

.badge.text-bg-primary {
  background-color: $theme-primary !important;
  color: $theme-text-on-primary !important;
}

.progress-bar,
.o_progressbar .o_progressbar_complete {
  background-color: $theme-primary !important;
}


// ============================================================
// CALENDAR
// ============================================================

.o_calendar_renderer {
  .fc-event,
  .fc-event-dot {
    background-color: $theme-primary !important;
    border-color: $theme-primary-hover !important;
  }

  .fc-button-primary {
    background-color: $theme-primary !important;
    border-color: $theme-primary !important;

    &:hover, &:focus {
      background-color: $theme-primary-hover !important;
    }
  }
}


// ============================================================
// CHATTER
// ============================================================

.o_Chatter {
  .btn-primary {
    background-color: $theme-primary !important;
    border-color: $theme-primary !important;
  }

  .o_Chatter_sendButton {
    background-color: $theme-primary !important;
  }
}


// ============================================================
// MODALS
// ============================================================

.modal {
  .btn-primary {
    background-color: $theme-primary !important;
    border-color: $theme-primary !important;

    &:hover, &:focus {
      background-color: $theme-primary-hover !important;
      border-color: $theme-primary-hover !important;
    }
  }

  .modal-header .btn-close:focus {
    box-shadow: 0 0 0 0.2rem rgba($theme-primary, 0.25) !important;
  }
}


// ============================================================
// CONTROL PANEL
// ============================================================

.o_control_panel {
  .btn-primary {
    background-color: $theme-primary !important;
    border-color: $theme-primary !important;
  }

  .o_searchview_input:focus {
    border-color: $theme-primary !important;
  }
}


// ============================================================
// HOME MENU / APP SWITCHER
// ============================================================

.o_home_menu {
  .o_app:hover,
  .o_app:focus {
    background-color: rgba($theme-primary, 0.15) !important;
  }

  .o_menuitem.o_focused,
  .o_menuitem:hover {
    background-color: rgba($theme-primary, 0.15) !important;
  }
}

.o_apps .o_app:hover {
  background-color: rgba($theme-primary, 0.1) !important;
}


// ============================================================
// BREADCRUMBS
// ============================================================

.breadcrumb-item a {
  color: $theme-primary !important;

  &:hover {
    color: $theme-primary-hover !important;
  }
}


// ============================================================
// MISCELLANEOUS
// ============================================================

// Loading indicator
.o_loading_indicator {
  background-color: $theme-primary !important;
}

// Selection highlight
::selection {
  background-color: rgba($theme-primary, 0.3) !important;
}

// Scrollbar (webkit browsers)
::-webkit-scrollbar-thumb:hover {
  background-color: $theme-primary !important;
}

// Focus outline
*:focus-visible {
  outline-color: $theme-primary !important;
}


// ============================================================
// INLINE STYLE OVERRIDES
// ============================================================
// For elements with inline purple styles

[style*="71639e"],
[style*="background-color: rgb(113, 99, 158)"],
[style*="background: rgb(113, 99, 158)"] {
  background: $theme-primary !important;
  background-color: $theme-primary !important;
}
